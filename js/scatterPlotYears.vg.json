{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 1300,
    "height": 500,
    "background": "rgb(250, 245, 229)",
    "data": {
      "url": "https://raw.githubusercontent.com/aliciawly/MalaysiaEconomicGrowth/refs/heads/main/data/gpdpercapitaYears.csv"
    },
    "params": [
      {
        "name": "yearFilter",
        "value": "All",
        "bind": {
          "input": "select",
          "options": ["All", "2020", "2021", "2022", "2023"],
          "name": "Select Year: "
        }
      }
    ],
    "transform": [
      {
        "filter": "yearFilter == 'All' || datum.year == yearFilter"
      }
    ],
    "mark": {
      "type": "point",
      "filled": true,
      "opacity": 0.5
    },
    "encoding": {
      "x": {
        "field": "GDP per capita",
        "type": "quantitative",
        "title": "GDP per Capita (MYR)",
        "axis": {
          "labelAngle": 0,
          "grid": false,
          "labelFontSize": 12,
          "titleFontSize": 14
        }
      },
      "y": {
        "field": "unemployment",
        "type": "quantitative",
        "title": "Unemployment Rate (%)",
        "axis": {
          "grid": false,
          "ticks": true,
          "labelFontSize": 12,
          "titleFontSize": 14
        },
        "scale": {"domain": [0, 10]}  
      },
      "size": {
        "field": "population",
        "type": "quantitative",
        "title": "Population",
        "scale": {
            "range": [50, 300],
            "domain": [1000, 150000]
        }
      },
      "color": {
        "field": "State",
        "type": "nominal",
        "title": "State",
        "scale": {
          "domain": [
            "Johor", "Kedah", "Kelantan", "Melaka", "Negeri Sembilan",
            "Pahang", "Pulau Pinang", "Perak", "Perlis", "Selangor", "Terengganu",
            "Sabah", "Sarawak", "Kuala Lumpur", "Labuan"
          ],
          "range": [
            "#4287f5", "#fcab28", "#c9ba12", "#8bdee0", "#7daac9",
            "#af7aa1", "#ff9da7", "#9c755f", "#bab0ab", "#1f7a00",
            "#524e02", "#9467bd", "#8c564b", "#e377c2", "#e07e60"
          ]
        },
        "legend": {
          "titleFontSize": 12,
          "labelFontSize": 10,
          "symbolSize": 100
        }
      },
      "tooltip": [
        {"field": "State", "type": "nominal", "title": "State"},
        {"field": "GDP per capita", "type": "quantitative", "title": "GDP per Capita", "format": ".4f"},
        {"field": "unemployment", "type": "quantitative", "title": "Unemployment Rate", "format": ".1f"},
        {"field": "population", "type": "quantitative", "title": "Population", "format": ",.0f"},
        {"field": "year", "type": "ordinal", "title": "Year"}
      ]
    },
    "config": {
      "axis": {"labelFont": "Source Sans Pro", "titleFont": "Source Sans Pro"},
      "legend": {"labelFont": "Source Sans Pro", "titleFont": "Source Sans Pro"},
      "header": {"labelFont": "Source Sans Pro", "titleFont": "Source Sans Pro"}
    }
  }
  